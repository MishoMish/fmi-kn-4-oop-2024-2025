# Обектно ориентирано програмиране - Седмица 2

## Допълнителни задачи: Шаблони и функции от по-висок ред

## Задачи за шаблонни функции

### Задача 1: Смяна на стойности

Напишете шаблонна функция `swap`, която разменя стойностите на два обекта от един и същи тип.

**Примерно използване:**

```cpp
int a = 5, b = 10;
swap(a, b);
std::cout << a << " " << b << std::endl; // Извежда: 10 5

std::string s1 = "hello", s2 = "world";
swap(s1, s2);
std::cout << s1 << " " << s2 << std::endl; // Извежда: world hello
```

### Задача 2: Минимален елемент в масив

Напишете шаблонна функция `findMin`, която приема масив от елементи и неговия размер, и връща най-малкия елемент в масива.

**Примерно използване:**

```cpp
int numbers[] = {5, 3, 8, 1, 7};
std::cout << findMin(numbers, 5) << std::endl; // Извежда: 1

double values[] = {3.14, 2.71, 1.41, 1.73};
std::cout << findMin(values, 4) << std::endl; // Извежда: 1.41
```

### Задача 3: Шаблонен клас за математически операции

Създайте шаблонен клас `Calculator`, който предоставя статични методи за основни математически операции (събиране, изваждане, умножение, деление).

**Примерно използване:**

```cpp
std::cout << Calculator<int>::add(5, 3) << std::endl; // Извежда: 8
std::cout << Calculator<double>::multiply(2.5, 3.0) << std::endl; // Извежда: 7.5
```

### Задача 4: Шаблонна функция с множество типове

Напишете шаблонна функция `convert`, която приема стойност от тип `From` и я конвертира в тип `To`.

**Примерно използване:**

```cpp
int intValue = convert<int, double>(3.14);
std::cout << intValue << std::endl; // Извежда: 3

std::string strValue = convert<std::string, int>(42);
std::cout << strValue << std::endl; // Извежда: "42"
```

## Задачи за функции от по-висок ред и указатели към функции

### Задача 5: Филтриране на масив

Напишете функция `filter`, която приема масив от цели числа, неговия размер и функция-предикат, която определя дали даден елемент отговаря на определено условие. Функцията трябва да върне нов масив, съдържащ само елементите, които отговарят на условието.

**Примерно използване:**

```cpp
int numbers[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10};
bool isEven(int x) {
    return x % 2 == 0;
}

int* evenNumbers = filter(numbers, 10, isEven, <добавете още ако трябва>);
// evenNumbers съдържа: 2, 4, 6, 8, 10
```

### Задача 6: Композиция на функции

Напишете функция `compose`, която приема две функции f и g и връща функция, която изпълнява f(g(x)).

**Примерно използване:**

```cpp
int square(int x) {
    return x * x;
}

int increment(int x) {
    return x + 1;
}

auto squareThenIncrement = compose(increment, square);
std::cout << squareThenIncrement(5) << std::endl; // Извежда: 26 (5² + 1)
```

## Задачи за std::function и Lambda

### Задача 7: Сортиране на масив с различни критерии

Напишете шаблонна функция `sort`, която сортира масив, използвайки подадена функция за сравнение.

**Примерно използване:**

```cpp
int numbers[] = {5, 2, 8, 1, 9};
sort(numbers, 5, [](int a, int b) { return a < b; }); // Възходящо
// numbers съдържа: 1, 2, 5, 8, 9

sort(numbers, 5, [](int a, int b) { return a > b; }); // Низходящо
// numbers съдържа: 9, 8, 5, 2, 1
```

### Задача 8: Трансформация на масив

Напишете функция `transform`, която приема масив, неговия размер и функция-трансформация, и връща нов масив с трансформираните стойности.

**Примерно използване:**

```cpp
int numbers[] = {1, 2, 3, 4, 5};
int* squares = transform(numbers, 5, [](int x) { return x * x; });
// squares съдържа: 1, 4, 9, 16, 25
```

### Задача 9: Създаване на функция-фабрика

Напишете функция `multiplyBy`, която приема число и връща lambda функция, която умножава аргумента си по това число.

**Примерно използване:**

```cpp
auto multiplyBy2 = multiplyBy(2);
auto multiplyBy10 = multiplyBy(10);

std::cout << multiplyBy2(5) << std::endl; // Извежда: 10
std::cout << multiplyBy10(5) << std::endl; // Извежда: 50
```

## Комбинирани задачи

### Задача 10: Обработка на колекция с множество операции

Напишете шаблонна функция `process`, която приема колекция и списък от операции, които да бъдат приложени последователно върху всеки елемент.

**Примерно използване:**

```cpp
std::vector<int> numbers = {1, 2, 3, 4, 5};
auto result = process(numbers,
    [](int x) { return x * 2; },
    [](int x) { return x + 10; },
    [](int x) { return x % 7; }
);
// result съдържа: 5, 0, 2, 4, 6
```

## Практически задачи за приложения

### Задача 11: Командна обработка

Създайте система за обработка на команди, в която можете да регистрирате функции за обработка на различни команди и след това да ги извиквате по име.

**Примерно използване:**

```cpp
CommandProcessor processor;
processor.registerCommand("add", [](int a, int b) { return a + b; });
processor.registerCommand("multiply", [](int a, int b) { return a * b; });

std::cout << processor.execute("add", 5, 3) << std::endl; // Извежда: 8
std::cout << processor.execute("multiply", 5, 3) << std::endl; // Извежда: 15
```

### Задача 12: Event система

Създайте проста система за събития, която позволява регистрирането на обработвачи за различни събития и извикването им, когато събитието се случва.

**Примерно използване:**

```cpp
EventSystem events;
events.subscribe("click", []() { std::cout << "Button clicked!" << std::endl; });
events.subscribe("hover", []() { std::cout << "Mouse hover!" << std::endl; });

events.trigger("click"); // Извежда: "Button clicked!"
```

**# Итератори в C++**

## **1. Въведение**

Итераторите са обекти, които предоставят механизъм за обхождане на елементи в структура от данни по структуриран начин. Те се използват за абстракция на достъпа до данни, като позволяват работа с различни контейнери по един и същи начин.

В C++ итераторите са особено полезни за работа с потребителски структури от данни, където стандартните библиотечни итератори не могат да бъдат приложени директно.

## **2. Как да създадем собствен итератор**

Създаването на итератор включва имплементация на клас, който предоставя:

- `begin()` и `end()` методи за получаване на началото и края на итериране.
- Оператори `*`, `++`, `--`, `!=`, `==`, за навигация и сравнение.

### **Пример: Итератор за масив**

```cpp
#include <iostream>

class ArrayIterator {
private:
    int* ptr;
public:
    ArrayIterator(int* p) : ptr(p) {}
    int& operator*() { return *ptr; }
    ArrayIterator& operator++() { ++ptr; return *this; }
    ArrayIterator& operator--() { --ptr; return *this; }
    bool operator!=(const ArrayIterator& other) { return ptr != other.ptr; }
};

class IntArray {
private:
    int* data;
    size_t size;
public:
    IntArray(int arr[], size_t s) : data(arr), size(s) {}
    ArrayIterator begin() { return ArrayIterator(data); }
    ArrayIterator end() { return ArrayIterator(data + size); }
};

int main() {
    int values[] = {10, 20, 30, 40};
    IntArray arr(values, 4);

    for (auto it = arr.begin(); it != arr.end(); ++it) {
        std::cout << *it << " ";
    }
    return 0;
}
```

**Изход:**

```
10 20 30 40
```

## **3. Двупосочен итератор**

За да направим итератора двупосочен, добавяме оператор `--` за връщане назад.

### **Пример: Двупосочен итератор**

```cpp
ArrayIterator& operator--() { --ptr; return *this; }
```

## **4. Заключение**

Създаването на собствени итератори ни позволява да дефинираме персонализирано поведение за итериране на структури от данни. Те осигуряват гъвкавост и модулност в програмите на C++.

---

**# Задачи: Итератори в C++**

## **Задача 1: Собствен итератор за масив**

### **Описание:**

Реализирайте клас `ArrayIterator`, който позволява итерация по статичен масив от числа. Итераторът трябва да поддържа `++`, `--`, `*` и сравнение `!=`.

### **Изисквания:**

- Оператор `*` за достъп до текущия елемент.
- Оператори `++` и `--` за движение напред и назад.
- Оператор `!=` за сравнение на два итератора.

### **Пример:**

#### **Вход:**

```cpp
int arr[] = {1, 2, 3, 4};
ArrayIterator it(arr);
ArrayIterator end(arr + 4);
while (it != end) {
    std::cout << *it << " ";
    ++it;
}
```

#### **Изход:**

```
1 2 3 4
```

## **Задача 2: Итератор за потребителски контейнер**

### **Описание:**

Създайте клас `CustomContainer`, който съдържа динамичен масив от цели числа и предоставя итератор `CustomIterator` с методи `begin()` и `end()`.

### **Изисквания:**

- Итераторът да поддържа навигация чрез `++`.
- Да се използва с `for` цикъл.

### **Пример:**

#### **Вход:**

```cpp
CustomContainer container({10, 20, 30, 40});
for (auto it = container.begin(); it != container.end(); ++it) {
    std::cout << *it << " ";
}
```

#### **Изход:**

```
10 20 30 40
```

## **Задача 3: Двупосочен итератор**

### **Описание:**

Разширете `ArrayIterator`, така че да поддържа движение назад чрез `--`.

### **Пример:**

#### **Вход:**

```cpp
ArrayIterator itEnd(arr + 4);
while (itEnd != it) {
    --itEnd;
    std::cout << *itEnd << " ";
}
```

#### **Изход:**

```
4 3 2 1
```
